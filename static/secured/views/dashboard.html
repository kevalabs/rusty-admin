{% extends "secured/template/base.html" %}

{% block title %}
<div>
    <h1><i class="bi bi-speedometer"></i> Dashboard</h1>
    <p>Overall System Preview</p>
</div>

{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-6 col-lg-3">
        <div class="widget-small primary coloured-icon"><i class="icon bi bi-people fs-1"></i>
            <div class="info">
                <h4>Users</h4>
                <p><b>5</b></p>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="widget-small info coloured-icon"><i class="icon bi bi-heart fs-1"></i>
            <div class="info">
                <h4>Likes</h4>
                <p><b>25</b></p>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="widget-small warning coloured-icon"><i class="icon bi bi-folder2 fs-1"></i>
            <div class="info">
                <h4>Uploades</h4>
                <p><b>10</b></p>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="widget-small danger coloured-icon"><i class="icon bi bi-star fs-1"></i>
            <div class="info">
                <h4>Stars</h4>
                <p><b>500</b></p>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6">
        <div class="tile">
            <h3 class="tile-title">Monthly Sales</h3>
            <div class="ratio ratio-16x9">
                <canvas id="salesChart"></canvas>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="tile">
            <h3 class="tile-title">Support Requests</h3>
            <div class="ratio ratio-16x9 d-flex justify-content-center">
                <canvas id="supportRequestChart"></canvas>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="js/plugins/chart.js"></script>
<script type="text/javascript">
    const salesData = {
        type: "line",
        data: {
            labels: [
                "Jan",
                "Feb",
                "March",
                "April",
                "May",
                "June",
            ],
            datasets: [{
                label: 'Monthly Sales',
                data: [65, 59, 80, 81, 56, 55, 40],
                fill: false,
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1
            }]
        }
    }

    const supportRequests = {
        type: "bar",
        data: {
            labels: [
                'In-Progress',
                'Complete',
                'Delayed'
            ],
            datasets: [{
                label: 'Support Requests',
                data: [300, 50, 100],
                backgroundColor: [
                    '#EFCC00',
                    '#5AD3D1',
                    '#FF5A5E'
                ],

            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'top',
                },
                title: {
                    display: true,
                    text: 'Support Requests'
                }
            }
        },
    };

    const salesChartCtx = document.getElementById('salesChart');
    new Chart(salesChartCtx, salesData);

    const supportChartCtx = document.getElementById('supportRequestChart');
    new Chart(supportChartCtx, supportRequests);
</script>
{% endblock %}
